{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["months","BlogList","posts","blogCount","setBlogCount","Fragment","style","display","flexDirection","justifyContent","onClick","Math","floor","length","filter","_","index","map","node","title","frontmatter","fields","slug","key","marginBottom","rhythm","boxShadow","to","date","dangerouslySetInnerHTML","__html","description","excerpt","BlogIndex","props","data","useState","bakedCount","setBakedCount","tweetCount","setTweetCount","tweetList","setTweetList","siteTitle","site","siteMetadata","allMarkdownRemark","edges","item","type","baked","tweets","in_reply_to_status_id","quoted_status","retweeted_status","useEffect","fetch","then","response","json","result","location","role","aria-label","console","log","id","paddingTop","borderTop","marginTop","dateStr","created_at","Date","month","getMonth","dd","getDate","yyyy","getFullYear","textDecoration","href","id_str","text","Tweets","pageQuery"],"mappings":"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","file":"component---src-pages-index-js-d998f891126b950b4d49.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { rhythm } from \"../utils/typography\"\nimport \"katex/dist/katex.min.css\"\n\nfunction BlogIndex (props) {\n  const { data } = props;\n  const [blogCount, setBlogCount] = useState(1);\n  const [bakedCount, setBakedCount] = useState(1);\n  const [tweetCount, setTweetCount] = useState(1);\n  const [tweetList, setTweetList] = useState([]);\n  const siteTitle = data.site.siteMetadata.title\n  const posts = data.allMarkdownRemark.edges.filter(item => item.node.frontmatter.type === \"post\")\n  const baked = data.allMarkdownRemark.edges.filter(item => item.node.frontmatter.type === \"baked\")\n  const tweets = tweetList.filter(item => !item.in_reply_to_status_id && !item.quoted_status && !item.retweeted_status);\n\n  useEffect(() => {\n    // get data from GitHub api\n    fetch(`https://blogbackend.tenzhiyang.com/tweets`)\n      .then(response => response.json()) // parse JSON from request\n      .then(result => {\n        setTweetList(result)\n      }) // set data for the number of stars\n  }, [])\n  \n  return (\n    <Layout location={props.location}  title={siteTitle}>\n      <SEO title=\"Ten's Thoughts\" />\n      <Bio />\n      <h2>Half-Baked Ideas <span role=\"img\" aria-label=\"male chef\">üë®‚Äçüç≥</span></h2>\n      {BlogList({ posts: baked, blogCount: bakedCount, setBlogCount: setBakedCount })}\n      <h2>Writings <span role=\"img\" aria-label=\"writing hand\">‚úçÔ∏è</span></h2>\n      {BlogList({ posts, blogCount, setBlogCount })}\n      <h2>Brain farts <span role=\"img\" aria-label=\"brain and wind\">üß†üí®</span></h2>\n      {Tweets({ posts: tweets, blogCount: tweetCount, setBlogCount: setTweetCount})}\n    </Layout>\n  );\n}\n\nfunction Tweets({ posts, blogCount, setBlogCount }) {\n  console.log(posts);\n\n  return (<React.Fragment>\n    <div style={\n      {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n      }\n    }>\n      {((blogCount - 1) > 0) ? <button onClick={() => ((blogCount - 1) > 0) ? setBlogCount(blogCount - 1) : setBlogCount(Math.floor(posts.length / 5))}>{`< prev`}</button> : <div />}\n      {(((blogCount + 1) * 5) - 5 < posts.length) ? <button onClick={() => (((blogCount + 1) * 5) - 5 < posts.length) ? setBlogCount(blogCount + 1) : setBlogCount(1)}>{`next >`}</button> : <div />}\n    </div>\n    {\n      posts.filter((_, index) => index >= (blogCount * 5 - 5) && index < blogCount * 5).map((node, index) => {\n        return (\n          <div key={node.id} style={\n           index !== 0 ? {\n              paddingTop: \"20px\",\n              borderTop: \"1px solid var(--alt)\",\n              marginTop: \"20px\",\n           } : {\n\n           }\n          }>\n            <small>{generateDate(node.created_at)}</small>\n            <p>\n              <a style={{ boxShadow: `none`, textDecoration: `none` }} href={generateUrl(node.id_str)}>\n                {node.text}\n              </a>\n            </p>\n          </div>\n        )\n      })\n    }\n  </React.Fragment>)\n}\n\nfunction generateUrl(id) {\n  return `https://twitter.com/tzyinc/status/${id}`\n}\n\nconst months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\nfunction generateDate(dateStr) {\n  const date = new Date(dateStr);\n  const month = months[date.getMonth()];\n  const dd = date.getDate();\n  const yyyy = date.getFullYear();\n  return `${month} ${dd}, ${yyyy}`\n}\n\nfunction BlogList({posts, blogCount, setBlogCount}) {\n  return (<React.Fragment>\n    <div style={\n      {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n      }\n    }>\n      {((blogCount - 1) > 0) ? <button onClick={() => ((blogCount - 1) > 0) ? setBlogCount(blogCount - 1) : setBlogCount(Math.floor(posts.length / 5))}>{`< prev`}</button> : <div />}\n      {(((blogCount + 1) * 5) - 5 < posts.length) ? <button onClick={() => (((blogCount + 1) * 5) - 5 < posts.length) ? setBlogCount(blogCount + 1) : setBlogCount(1)}>{`next >`}</button> : <div />}\n    </div>\n\n    {\n      posts.filter((_, index) => index >= (blogCount * 5 - 5) && index < blogCount * 5).map(({ node }) => {\n        const title = node.frontmatter.title || node.fields.slug\n        return (\n          <div key={node.fields.slug}>\n            <h3\n              style={{\n                marginBottom: rhythm(1 / 4),\n              }}\n            >\n              <Link style={{ boxShadow: `none` }} to={node.fields.slug}>\n                {title}\n              </Link>\n            </h3>\n            <small>{node.frontmatter.date}</small>\n            <p\n              dangerouslySetInnerHTML={{\n                __html: node.frontmatter.description || node.excerpt,\n              }}\n            />\n          </div>\n        )\n      })\n    }\n  </React.Fragment>)\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            type\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}